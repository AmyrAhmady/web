"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([[49801],{19146:(n,i,t)=>{t.r(i),t.d(i,{assets:()=>s,contentTitle:()=>r,default:()=>o,frontMatter:()=>h,metadata:()=>e,toc:()=>a});const e=JSON.parse('{"id":"scripting/callbacks/OnPlayerWeaponShot","title":"OnPlayerWeaponShot","description":"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1eafn t\u1eeb m\u1ed9t v\u0169 kh\xed.","source":"@site/i18n/vi/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerWeaponShot.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerWeaponShot","permalink":"/vi/docs/scripting/callbacks/OnPlayerWeaponShot","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/tree/master/frontend/docs/scripting/callbacks/OnPlayerWeaponShot.md","tags":[{"inline":true,"label":"player","permalink":"/vi/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerWeaponShot","sidebar_label":"OnPlayerWeaponShot","description":"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1eafn t\u1eeb m\u1ed9t v\u0169 kh\xed.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerUpdate","permalink":"/vi/docs/scripting/callbacks/OnPlayerUpdate"},"next":{"title":"OnRconCommand","permalink":"/vi/docs/scripting/callbacks/OnRconCommand"}}');var c=t(74848),l=t(28453);const h={title:"OnPlayerWeaponShot",sidebar_label:"OnPlayerWeaponShot",description:"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1eafn t\u1eeb m\u1ed9t v\u0169 kh\xed.",tags:["player"]},r=void 0,s={},a=[{value:"M\xf4 t\u1ea3",id:"m\xf4-t\u1ea3",level:2},{value:"Gi\xe1 tr\u1ecb tr\u1ea3 v\u1ec1",id:"gi\xe1-tr\u1ecb-tr\u1ea3-v\u1ec1",level:2},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:2},{value:"Ghi ch\xfa",id:"ghi-ch\xfa",level:2},{value:"Callbacks li\xean quan",id:"callbacks-li\xean-quan",level:2},{value:"C\xe1c h\xe0m li\xean quan",id:"c\xe1c-h\xe0m-li\xean-quan",level:2},{value:"T\xe0i nguy\xean li\xean quan",id:"t\xe0i-nguy\xean-li\xean-quan",level:2}];function d(n){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.h2,{id:"m\xf4-t\u1ea3",children:"M\xf4 t\u1ea3"}),"\n",(0,c.jsx)(i.p,{children:"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1eafn t\u1eeb m\u1ed9t v\u0169 kh\xed. Ch\u1ec9 c\xe1c v\u0169 kh\xed b\u1eafn \u0111\u1ea1n \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Ch\u1ec9 h\u1ed7 tr\u1ee3 b\u1eafn t\u1eeb gh\u1ebf h\xe0nh kh\xe1ch (kh\xf4ng h\u1ed7 tr\u1ee3 b\u1eafn t\u1eeb gh\u1ebf l\xe1i, v\xe0 kh\xf4ng h\u1ed7 tr\u1ee3 b\u1eafn t\u1eeb sea sparrow / hunter)."}),"\n",(0,c.jsxs)(i.table,{children:[(0,c.jsx)(i.thead,{children:(0,c.jsxs)(i.tr,{children:[(0,c.jsx)(i.th,{children:"T\xean"}),(0,c.jsx)(i.th,{children:"M\xf4 t\u1ea3"})]})}),(0,c.jsxs)(i.tbody,{children:[(0,c.jsxs)(i.tr,{children:[(0,c.jsx)(i.td,{children:"playerid"}),(0,c.jsx)(i.td,{children:"ID c\u1ee7a ng\u01b0\u1eddi ch\u01a1i \u0111\xe3 b\u1eafn v\u0169 kh\xed."})]}),(0,c.jsxs)(i.tr,{children:[(0,c.jsxs)(i.td,{children:["WEAPON",":weaponid"]}),(0,c.jsxs)(i.td,{children:["ID c\u1ee7a ",(0,c.jsx)(i.a,{href:"../resources/weaponids",children:"v\u0169 kh\xed"})," m\xe0 ng\u01b0\u1eddi ch\u01a1i \u0111\xe3 b\u1eafn."]})]}),(0,c.jsxs)(i.tr,{children:[(0,c.jsxs)(i.td,{children:["BULLET_HIT_TYPE",":hittype"]}),(0,c.jsxs)(i.td,{children:[(0,c.jsx)(i.a,{href:"../resources/bullethittypes",children:"Lo\u1ea1i"})," c\u1ee7a m\u1ee5c ti\xeau b\u1ecb b\u1eafn (kh\xf4ng c\xf3, ng\u01b0\u1eddi ch\u01a1i, ph\u01b0\u01a1ng ti\u1ec7n, ho\u1eb7c (ng\u01b0\u1eddi ch\u01a1i)\u0111\u1ed1i t\u01b0\u1ee3ng)."]})]}),(0,c.jsxs)(i.tr,{children:[(0,c.jsx)(i.td,{children:"hitid"}),(0,c.jsx)(i.td,{children:"ID c\u1ee7a ng\u01b0\u1eddi ch\u01a1i, ph\u01b0\u01a1ng ti\u1ec7n ho\u1eb7c \u0111\u1ed1i t\u01b0\u1ee3ng b\u1ecb b\u1eafn tr\xfang."})]}),(0,c.jsxs)(i.tr,{children:[(0,c.jsxs)(i.td,{children:["Float",":fX"]}),(0,c.jsx)(i.td,{children:"T\u1ecda \u0111\u1ed9 X m\xe0 vi\xean \u0111\u1ea1n b\u1eafn tr\xfang."})]}),(0,c.jsxs)(i.tr,{children:[(0,c.jsxs)(i.td,{children:["Float",":fY"]}),(0,c.jsx)(i.td,{children:"T\u1ecda \u0111\u1ed9 Y m\xe0 vi\xean \u0111\u1ea1n b\u1eafn tr\xfang."})]}),(0,c.jsxs)(i.tr,{children:[(0,c.jsxs)(i.td,{children:["Float",":fZ"]}),(0,c.jsx)(i.td,{children:"T\u1ecda \u0111\u1ed9 Z m\xe0 vi\xean \u0111\u1ea1n b\u1eafn tr\xfang."})]})]})]}),"\n",(0,c.jsx)(i.h2,{id:"gi\xe1-tr\u1ecb-tr\u1ea3-v\u1ec1",children:"Gi\xe1 tr\u1ecb tr\u1ea3 v\u1ec1"}),"\n",(0,c.jsx)(i.p,{children:"0 - Ng\u0103n vi\xean \u0111\u1ea1n g\xe2y thi\u1ec7t h\u1ea1i."}),"\n",(0,c.jsx)(i.p,{children:"1 - Cho ph\xe9p vi\xean \u0111\u1ea1n g\xe2y thi\u1ec7t h\u1ea1i."}),"\n",(0,c.jsx)(i.p,{children:"N\xf3 lu\xf4n \u0111\u01b0\u1ee3c g\u1ecdi \u0111\u1ea7u ti\xean trong filterscripts n\xean vi\u1ec7c tr\u1ea3 v\u1ec1 0 c\u0169ng s\u1ebd ng\u0103n c\xe1c script kh\xe1c th\u1ea5y n\xf3."}),"\n",(0,c.jsx)(i.h2,{id:"v\xed-d\u1ee5",children:"V\xed d\u1ee5"}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{className:"language-c",children:'public OnPlayerWeaponShot(playerid, WEAPON:weaponid, BULLET_HIT_TYPE:hittype, hitid, Float:fX, Float:fY, Float:fZ)\n{\n    new string[144];\n    format(string, sizeof(string), "V\u0169 kh\xed %i \u0111\xe3 \u0111\u01b0\u1ee3c b\u1eafn. lo\u1ea1i b\u1eafn: %i   hitid: %i   t\u1ecda \u0111\u1ed9: %f, %f, %f", weaponid, hittype, hitid, fX, fY, fZ);\n    SendClientMessage(playerid, -1, string);\n    return 1;\n}\n'})}),"\n",(0,c.jsx)(i.h2,{id:"ghi-ch\xfa",children:"Ghi ch\xfa"}),"\n",(0,c.jsx)(i.admonition,{type:"tip",children:(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:["Callback n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c g\u1ecdi khi b\xf9 tr\u1eeb \u0111\u1ed9 tr\u1ec5 (lag compensation) \u0111\u01b0\u1ee3c b\u1eadt. N\u1ebfu ",(0,c.jsx)(i.code,{children:"hittype"})," l\xe0:"]}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:[(0,c.jsx)(i.code,{children:"BULLET_HIT_TYPE_NONE"}),": c\xe1c tham s\u1ed1 fX, fY v\xe0 fZ l\xe0 t\u1ecda \u0111\u1ed9 b\xecnh th\u01b0\u1eddng, s\u1ebd tr\u1ea3 v\u1ec1 0.0 cho c\xe1c t\u1ecda \u0111\u1ed9 n\u1ebfu kh\xf4ng c\xf3 g\xec b\u1ecb b\u1eafn tr\xfang (v\xed d\u1ee5: v\u1eadt th\u1ec3 \u1edf xa m\xe0 vi\xean \u0111\u1ea1n kh\xf4ng th\u1ec3 \u0111\u1ebfn);"]}),"\n",(0,c.jsxs)(i.li,{children:["C\xe1c lo\u1ea1i kh\xe1c: fX, fY v\xe0 fZ l\xe0 \u0111\u1ed9 d\u1ecbch chuy\u1ec3n t\u01b0\u01a1ng \u0111\u1ed1i v\u1edbi ",(0,c.jsx)(i.code,{children:"hitid"}),"."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(i.li,{children:["\n",(0,c.jsxs)(i.p,{children:[(0,c.jsx)(i.a,{href:"../functions/GetPlayerLastShotVectors",children:"GetPlayerLastShotVectors"})," c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong callback n\xe0y \u0111\u1ec3 c\xf3 th\xf4ng tin chi ti\u1ebft v\u1ec1 vector vi\xean \u0111\u1ea1n."]}),"\n"]}),"\n"]})}),"\n",(0,c.jsx)(i.admonition,{type:"warning",children:(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"Kh\xf4ng \u0111\u01b0\u1ee3c g\u1ecdi n\u1ebfu b\u1ea1n b\u1eafn t\u1eeb xe nh\u01b0 l\xe0 t\xe0i x\u1ebf ho\u1eb7c n\u1ebfu b\u1ea1n \u0111ang nh\xecn ra sau v\u1edbi ng\u1eafm m\u1ee5c ti\xeau b\u1eadt (b\u1eafn l\xean kh\xf4ng trung)."}),"\n",(0,c.jsxs)(i.li,{children:["N\xf3 \u0111\u01b0\u1ee3c g\u1ecdi v\u1edbi ",(0,c.jsx)(i.code,{children:"BULLET_HIT_TYPE_VEHICLE"})," v\u1edbi ",(0,c.jsx)(i.code,{children:"hitid"})," ch\xednh x\xe1c (vehicleid c\u1ee7a ng\u01b0\u1eddi ch\u01a1i b\u1ecb b\u1eafn) n\u1ebfu b\u1ea1n \u0111ang b\u1eafn m\u1ed9t ng\u01b0\u1eddi ch\u01a1i \u0111ang \u1edf trong xe. N\xf3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c g\u1ecdi v\u1edbi ",(0,c.jsx)(i.code,{children:"BULLET_HIT_TYPE_PLAYER"})," t\u1ea1i t\u1ea5t c\u1ea3."]}),"\n",(0,c.jsxs)(i.li,{children:["\u0110\xe3 \u0111\u01b0\u1ee3c s\u1eeda m\u1ed9t ph\u1ea7n trong SA-MP 0.3.7: N\u1ebfu d\u1eef li\u1ec7u v\u0169 kh\xed gi\u1ea3 \u0111\u01b0\u1ee3c g\u1eedi b\u1edfi ng\u01b0\u1eddi d\xf9ng \u0111\u1ed9c h\u1ea1i, c\xe1c client c\u1ee7a ng\u01b0\u1eddi ch\u01a1i kh\xe1c c\xf3 th\u1ec3 b\u1ecb treo ho\u1eb7c b\u1ecb s\u1eadp. \u0110\u1ec3 ch\u1ed1ng l\u1ea1i \u0111i\u1ec1u n\xe0y, h\xe3y ki\u1ec3m tra xem ",(0,c.jsx)(i.code,{children:"weaponid"})," \u0111\u01b0\u1ee3c b\xe1o c\xe1o c\xf3 th\u1ef1c s\u1ef1 b\u1eafn \u0111\u1ea1n hay kh\xf4ng."]}),"\n"]})}),"\n",(0,c.jsx)(i.h2,{id:"callbacks-li\xean-quan",children:"Callbacks li\xean quan"}),"\n",(0,c.jsx)(i.p,{children:"C\xe1c callback sau c\xf3 th\u1ec3 h\u1eefu \xedch, v\xec ch\xfang li\xean quan \u0111\u1ebfn callback n\xe0y theo m\u1ed9t c\xe1ch n\xe0o \u0111\xf3."}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:[(0,c.jsx)(i.a,{href:"OnPlayerGiveDamage",children:"OnPlayerGiveDamage"}),": Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i g\xe2y thi\u1ec7t h\u1ea1i."]}),"\n"]}),"\n",(0,c.jsx)(i.h2,{id:"c\xe1c-h\xe0m-li\xean-quan",children:"C\xe1c h\xe0m li\xean quan"}),"\n",(0,c.jsx)(i.p,{children:"C\xe1c h\xe0m sau c\xf3 th\u1ec3 h\u1eefu \xedch, v\xec ch\xfang li\xean quan \u0111\u1ebfn callback n\xe0y theo m\u1ed9t c\xe1ch n\xe0o \u0111\xf3."}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsxs)(i.li,{children:[(0,c.jsx)(i.a,{href:"../functions/GetPlayerLastShotVectors",children:"GetPlayerLastShotVectors"}),": L\u1ea5y vector c\u1ee7a vi\xean \u0111\u1ea1n cu\u1ed1i c\xf9ng m\xe0 m\u1ed9t ng\u01b0\u1eddi ch\u01a1i \u0111\xe3 b\u1eafn."]}),"\n"]}),"\n",(0,c.jsx)(i.h2,{id:"t\xe0i-nguy\xean-li\xean-quan",children:"T\xe0i nguy\xean li\xean quan"}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:(0,c.jsx)(i.a,{href:"../resources/bullethittypes",children:"Bullet Hit Types"})}),"\n"]})]})}function o(n={}){const{wrapper:i}={...(0,l.R)(),...n.components};return i?(0,c.jsx)(i,{...n,children:(0,c.jsx)(d,{...n})}):d(n)}},28453:(n,i,t)=>{t.d(i,{R:()=>h,x:()=>r});var e=t(96540);const c={},l=e.createContext(c);function h(n){const i=e.useContext(l);return e.useMemo((function(){return"function"==typeof n?n(i):{...i,...n}}),[i,n])}function r(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:h(n.components),e.createElement(l.Provider,{value:i},n.children)}}}]);