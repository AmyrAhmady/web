"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([[59976],{28453:(n,e,i)=>{i.d(e,{R:()=>c,x:()=>r});var t=i(96540);const a={},l=t.createContext(a);function c(n){const e=t.useContext(l);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:c(n.components),t.createElement(l.Provider,{value:e},n.children)}},52548:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>r,default:()=>o,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"scripting/callbacks/OnPlayerTakeDamage","title":"OnPlayerTakeDamage","description":"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1ecb nh\u1eadn s\xe1t th\u01b0\u01a1ng.","source":"@site/i18n/vi/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerTakeDamage.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerTakeDamage","permalink":"/vi/docs/scripting/callbacks/OnPlayerTakeDamage","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/tree/master/frontend/docs/scripting/callbacks/OnPlayerTakeDamage.md","tags":[{"inline":true,"label":"player","permalink":"/vi/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerTakeDamage","sidebar_label":"OnPlayerTakeDamage","description":"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1ecb nh\u1eadn s\xe1t th\u01b0\u01a1ng.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerStreamOut","permalink":"/vi/docs/scripting/callbacks/OnPlayerStreamOut"},"next":{"title":"OnPlayerText","permalink":"/vi/docs/scripting/callbacks/OnPlayerText"}}');var a=i(74848),l=i(28453);const c={title:"OnPlayerTakeDamage",sidebar_label:"OnPlayerTakeDamage",description:"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1ecb nh\u1eadn s\xe1t th\u01b0\u01a1ng.",tags:["player"]},r=void 0,s={},h=[{value:"M\xf4 t\u1ea3",id:"m\xf4-t\u1ea3",level:2},{value:"Gi\xe1 tr\u1ecb tr\u1ea3 v\u1ec1",id:"gi\xe1-tr\u1ecb-tr\u1ea3-v\u1ec1",level:2},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:2},{value:"Ghi ch\xfa",id:"ghi-ch\xfa",level:2},{value:"C\xe1c Callbacks li\xean quan",id:"c\xe1c-callbacks-li\xean-quan",level:2},{value:"C\xe1c T\xe0i Nguy\xean li\xean quan",id:"c\xe1c-t\xe0i-nguy\xean-li\xean-quan",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{id:"m\xf4-t\u1ea3",children:"M\xf4 t\u1ea3"}),"\n",(0,a.jsx)(e.p,{children:"Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1ecb nh\u1eadn s\xe1t th\u01b0\u01a1ng."}),"\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:"T\xean"}),(0,a.jsx)(e.th,{children:"M\xf4 t\u1ea3"})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:"playerid"}),(0,a.jsx)(e.td,{children:"ID c\u1ee7a ng\u01b0\u1eddi ch\u01a1i b\u1ecb nh\u1eadn s\xe1t th\u01b0\u01a1ng."})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:"issuerid"}),(0,a.jsx)(e.td,{children:"ID c\u1ee7a ng\u01b0\u1eddi ch\u01a1i g\xe2y s\xe1t th\u01b0\u01a1ng. INVALID_PLAYER_ID n\u1ebfu t\u1ef1 g\xe2y s\xe1t th\u01b0\u01a1ng."})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsxs)(e.td,{children:["Float",":amount"]}),(0,a.jsx)(e.td,{children:"L\u01b0\u1ee3ng s\xe1t th\u01b0\u01a1ng ng\u01b0\u1eddi ch\u01a1i nh\u1eadn (k\u1ebft h\u1ee3p gi\u1eefa m\xe1u v\xe0 gi\xe1p)."})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsxs)(e.td,{children:["WEAPON",":weaponid"]}),(0,a.jsx)(e.td,{children:"ID c\u1ee7a v\u0169 kh\xed/l\xfd do g\xe2y s\xe1t th\u01b0\u01a1ng."})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:"bodypart"}),(0,a.jsxs)(e.td,{children:[(0,a.jsx)(e.a,{href:"../resources/bodyparts",children:"Ph\u1ea7n c\u01a1 th\u1ec3"})," b\u1ecb t\u1ea5n c\xf4ng."]})]})]})]}),"\n",(0,a.jsx)(e.h2,{id:"gi\xe1-tr\u1ecb-tr\u1ea3-v\u1ec1",children:"Gi\xe1 tr\u1ecb tr\u1ea3 v\u1ec1"}),"\n",(0,a.jsx)(e.p,{children:"1 - Callback s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c g\u1ecdi trong c\xe1c filterscripts kh\xe1c."}),"\n",(0,a.jsx)(e.p,{children:"0 - Cho ph\xe9p callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi trong c\xe1c filterscripts kh\xe1c."}),"\n",(0,a.jsx)(e.p,{children:"N\xf3 lu\xf4n \u0111\u01b0\u1ee3c g\u1ecdi \u0111\u1ea7u ti\xean trong filterscripts n\xean tr\u1ea3 v\u1ec1 1 s\u1ebd ch\u1eb7n c\xe1c filterscripts kh\xe1c kh\xf4ng th\u1ea5y \u0111\u01b0\u1ee3c n\xf3."}),"\n",(0,a.jsx)(e.h2,{id:"v\xed-d\u1ee5",children:"V\xed d\u1ee5"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-c",children:'public OnPlayerTakeDamage(playerid, issuerid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    if (issuerid\xa0!= INVALID_PLAYER_ID) // N\u1ebfu kh\xf4ng t\u1ef1 g\xe2y s\xe1t th\u01b0\u01a1ng\n    {\n        new\n            infoString[128],\n            weaponName[24],\n            victimName[MAX_PLAYER_NAME],\n            attackerName[MAX_PLAYER_NAME];\n\n        GetPlayerName(playerid, victimName, sizeof (victimName));\n        GetPlayerName(issuerid, attackerName, sizeof (attackerName));\n\n        GetWeaponName(weaponid, weaponName, sizeof (weaponName));\n\n        format(infoString, sizeof(infoString), "%s \u0111\xe3 g\xe2y %.0f s\xe1t th\u01b0\u01a1ng cho %s, v\u0169 kh\xed: %s, ph\u1ea7n c\u01a1 th\u1ec3: %d", attackerName, amount, victimName, weaponName, bodypart);\n        SendClientMessageToAll(-1, infoString);\n    }\n    return 1;\n}\n'})}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-c",children:"public OnPlayerTakeDamage(playerid, issuerid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    if (issuerid\xa0!= INVALID_PLAYER_ID && weaponid == 34 && bodypart == 9)\n    {\n        // B\u1eafn m\u1ed9t ph\xe1t v\xe0o \u0111\u1ea7u b\u1eb1ng s\xfang b\u1eafn t\u1ec9a \u0111\u1ec3 gi\u1ebft\n        SetPlayerHealth(playerid, 0.0);\n    }\n    return 1;\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"ghi-ch\xfa",children:"Ghi ch\xfa"}),"\n",(0,a.jsx)(e.admonition,{type:"tip",children:(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"weaponid s\u1ebd tr\u1ea3 v\u1ec1 37 (s\xfang phun l\u1eeda) t\u1eeb b\u1ea5t k\u1ef3 ngu\u1ed3n l\u1eeda n\xe0o (v\xed d\u1ee5: molotov, 18)."}),"\n",(0,a.jsx)(e.li,{children:"weaponid s\u1ebd tr\u1ea3 v\u1ec1 51 t\u1eeb b\u1ea5t k\u1ef3 v\u0169 kh\xed n\xe0o t\u1ea1o ra v\u1ee5 n\u1ed5 (v\xed d\u1ee5: RPG, l\u1ef1u \u0111\u1ea1n)."}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"playerid"})," l\xe0 ng\u01b0\u1eddi duy nh\u1ea5t c\xf3 th\u1ec3 g\u1ecdi callback n\xe0y."]}),"\n",(0,a.jsx)(e.li,{children:"amount lu\xf4n l\xe0 s\xe1t th\u01b0\u01a1ng t\u1ed1i \u0111a m\xe0 weaponid c\xf3 th\u1ec3 g\xe2y ra, ngay c\u1ea3 khi m\xe1u c\xf2n l\u1ea1i \xedt h\u01a1n s\xe1t th\u01b0\u01a1ng t\u1ed1i \u0111a \u0111\xf3. V\xec v\u1eady, khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i c\xf3 100.0 m\xe1u v\xe0 b\u1ecb b\u1eafn b\u1eb1ng Desert Eagle v\u1edbi s\xe1t th\u01b0\u01a1ng l\xe0 46.2, c\u1ea7n 3 ph\xe1t b\u1eafn \u0111\u1ec3 gi\u1ebft ng\u01b0\u1eddi ch\u01a1i \u0111\xf3. C\u1ea3 3 ph\xe1t b\u1eafn \u0111\u1ec1u s\u1ebd hi\u1ec3n th\u1ecb l\u01b0\u1ee3ng s\xe1t th\u01b0\u01a1ng l\xe0 46.2, m\u1eb7c d\xf9 khi ph\xe1t b\u1eafn cu\u1ed1i c\xf9ng tr\xfang \u0111\xedch, ng\u01b0\u1eddi ch\u01a1i ch\u1ec9 c\xf2n 7.6 m\xe1u."}),"\n"]})}),"\n",(0,a.jsx)(e.admonition,{type:"warning",children:(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"../functions/GetPlayerHealth",children:"GetPlayerHealth"})," v\xe0 ",(0,a.jsx)(e.a,{href:"../functions/GetPlayerArmour",children:"GetPlayerArmour"})," s\u1ebd tr\u1ea3 v\u1ec1 l\u01b0\u1ee3ng m\xe1u v\xe0 gi\xe1p c\u0169 c\u1ee7a ng\u01b0\u1eddi ch\u01a1i tr\u01b0\u1edbc khi callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi."]}),"\n",(0,a.jsx)(e.li,{children:"Lu\xf4n ki\u1ec3m tra xem issuerid c\xf3 h\u1ee3p l\u1ec7 tr\u01b0\u1edbc khi s\u1eed d\u1ee5ng n\xf3 l\xe0m ch\u1ec9 s\u1ed1 m\u1ea3ng."}),"\n"]})}),"\n",(0,a.jsx)(e.h2,{id:"c\xe1c-callbacks-li\xean-quan",children:"C\xe1c Callbacks li\xean quan"}),"\n",(0,a.jsx)(e.p,{children:"C\xe1c callback sau c\xf3 th\u1ec3 h\u1eefu \xedch, v\xec ch\xfang li\xean quan \u0111\u1ebfn callback n\xe0y theo m\u1ed9t c\xe1ch n\xe0o \u0111\xf3."}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"OnPlayerGiveDamage",children:"OnPlayerGiveDamage"}),": Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i g\xe2y s\xe1t th\u01b0\u01a1ng."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"OnPlayerWeaponShot",children:"OnPlayerWeaponShot"}),": Callback n\xe0y \u0111\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t ng\u01b0\u1eddi ch\u01a1i b\u1eafn v\u0169 kh\xed."]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"c\xe1c-t\xe0i-nguy\xean-li\xean-quan",children:"C\xe1c T\xe0i Nguy\xean li\xean quan"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"../resources/bodyparts",children:"Ph\u1ea7n C\u01a1 Th\u1ec3"})}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}}}]);